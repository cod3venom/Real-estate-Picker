
{
  "VERSION": "1.0",
  "AUTHOR": "cod3venom",
  "AUTHOR_MAIL": "levan.ostrowski@gmail.com",
  "TERMINAL_PREFIX": "RealEstate_picker.{}@root > ",
  "LOG_FORMAT": "{}[{}][{}] {} > {}",
  "TEXTS_PATH": "/Settings/Texts/",

  "BINARY_PATH_LINUX": "/Settings/bin/chromedriver",
  "BINARY_PATH_WINDOWS": "/Settings/bin/chromedriver.exe",
  "JS_PATH": "/Settings/Javascript/",

  "DEFAULT_ENCODING": "utf-8",
  "DEFAULT_TEMPLATE": "/Settings/Templates/default.temp",
  "ADBLOCKER_CRX": "/Settings/Extensions/adblock.crx",

  "MORIZON_STORAGE" : "/Storage/Morizon/",
  "GUMTREE_STORAGE" : "/Storage/Gumtree/",
  "OLX_STORAGE": "/Storage/Olx/",
  "GRATKA_STORAGE": "/Storage/Gratka/",
  "DOMY_STORAGE": "/Storage/Domy/",
  "DOMIPORTA_STORAGE": "/Storage/DomiPorta/",
  "OTODOM_STORAGE": "/Storage/Otodom/",

  "VENDOR_ABBREVIATIONS": {
    "GRATKA":"GRT",
    "DOMY":"DM",
    "DOMIPORTA":"DMP",
    "OTODOM":"ODM",
    "MORIZON":"MRZ",
    "GUMTREE":"GMT",
    "OLX":"OX"
  },
  "MORIZON_SELECTORS" :{
    "ACCEPT_REGULATIONS": "//button[@aria-label='accept and close']",
    "TITLE": "normalize-space(//title/text())",
    "IMAGES": "//img[@data-number]/@src",
    "IMAGES_TOTAL": "count(//img[@data-number]/@src)",
    "GALLERY_SELECTED": "return document.querySelector(\"img[id='imageBigCB']\").getAttribute('src');",
    "GALLERY_NEXT": "div.imageBig > div.imageBoxBigRight.imageBoxArrowRight > div",
    "GALLERY_CLOSE": "document.querySelector(\"button[id='myImageBoxClose']\").click();",
    "PRICE": "concat(normalize-space(//li[contains(text(),'Cena')]/em/text()), normalize-space(//li[contains(text(),'Cena')]/em/span/text()))",
    "LOCATION" : "normalize-space(//div[@class='descriptionContent__title']/p/text())",
    "MEASUREMENT": "concat(normalize-space(//li[contains(text(),'Powierzchnia')][1]/em/text()), normalize-space(//li[contains(text(),'Powierzchnia')][1]/em/span/text()))",
    "ROOMS_AMOUNT": "normalize-space(//li[contains(text(),'Pokoje')][1]/em/text())",
    "PHONE_NUMBER": "normalize-space(//span[@class='phone hidden']/text())",
    "CONTACT_DIGNITY": "normalize-space(//div[@class='agentName']/text())",
    "DESCRIPTION": "//div[@id='description']/p/text()"
  },

  "GUMTREE_SELECTORS": {
    "ACCEPT_REGULATIONS": "//button[@id = 'onetrust-accept-btn-handler']",
    "TITLE": "normalize-space(//title/text())",
    "PHONE_NUMBER": "translate(//a[@class='button telephone']/@href, 'tel:', '')",
    "GALLERY_MAIN": "//div[@class='vip-gallery']",
    "GALLERY_SELECTED": "img[id='preview-image']",
    "GALLERY_NEXT": "//span[@class='icon-vip-popup-arrow-right']",
    "GALLERY_CLOSE": "document.querySelector(\"div[id='icon-close']\").click();",
    "IMAGES_TOTAL": "count(//div[contains(@class, 'thumbs images')]/div/img/@src)",
    "PRICE": "normalize-space(//h1[@class='item-title']/../div/span/span/text())",
    "LOCATION": "//div[@class='location'][1]/a/text()",
    "MEASUREMENT": "normalize-space(//div[@class='attribute']/span[@class='name'][contains(text(), 'Wielkość (m2)')]/../span[@class='value']/text())",
    "ROOMS_AMOUNT": "translate(normalize-space(//div[@class='attribute']/span[@class='name'][contains(text(), 'Liczba pokoi')]/../span[@class='value']/text()), 'pokoje', '')",
    "CONTACT_DIGNITY": "//span[@class='username'][1]/a[1]/text()",
    "DESCRIPTION": "normalize-space(//div[@class='vip-details']/div[@class='description']/span)"
  },
  "OLX_SELECTORS" : {
    "ACCEPT_REGULATIONS": "//button[@id='onetrust-accept-btn-handler'][text() = 'Akceptuję']",
    "TITLE": "normalize-space(//title/text())",
    "PHONE_BUTTON": "document.querySelectorAll(\"button\").forEach(function(btn, index) {if (btn.innerText === \"Zadzwoń\"){btn.click(); return;}})",
    "PHONE_NUMBER": "normalize-space(translate(//button[@data-cy='ad-contact-phone'], ':', ''))",
    "GALLERY_MAIN": "div[class='swiper-zoom-container'] > img",
    "GALLERY_MAIN_CLICK": "document.querySelector('div[class=\"swiper-zoom-container\"] > img').click();",
    "GALLERY_IMAGES": "//div[@data-testid = \"swiper-thumbnail\"]/img/@src",
    "GALLERY_NEXT": "//button[@aria-label='Next slide']",
    "GALLERY_CLOSE": "document.querySelector(\"div[data-testid='close-modal']\").click();",
    "IMAGES_TOTAL": "normalize-space(//div[@data-cy='adPhotos-slidesNum']/text()[2])",
    "PRICE": "normalize-space(concat(//div[@data-testid='ad-price-container']/h3/text()[1],' ', //div[@data-testid='ad-price-container']/h3/text()[3]))",
    "MEASUREMENT": "normalize-space(translate(//p[contains(text(), 'Powierzchnia')]/text(), 'Powierzhcnia: ' , ''))",
    "ROOMS_AMOUNT": "normalize-space(//p[contains(text(), 'Liczba pokoi')]/text())",
    "CONTACT_DIGNITY": "normalize-space(//a[@name='user_ads']//h2/text())",
    "DESCRIPTION": "//div[@data-cy='ad_description']/div/text()"
  },
  "GRATKA_SELECTORS" : {
    "ACCEPT_REGULATIONS": "//span[text() = 'Przejdź do serwisu']",
    "TITLE": "normalize-space(//title/text())",
    "PHONE_NUMBER": "normalize-space(//a/@data-full-phone-number)",
    "GALLERY": "//div[@id = \"image-0\"]/img",
    "GALLERY_IMAGES": "//div[contains(@class, \"galleryWrapper__imageBox galleryWrapper__imageBox--big\")]/img/@src",
    "PRICE": "normalize-space(concat(//span[@class = 'priceInfo__value']/text(), //span[@class = 'priceInfo__value']/span/text()))",
    "LOCATION": "normalize-space(//span[text() = 'Lokalizacja']/../b[@class = 'parameters__value'])",
    "MEASUREMENT": "normalize-space(concat(//span[contains(text() , 'Powierzchnia')]/../b/text(), //span[contains(text() , 'Powierzchnia')]/../b/sup/text()))",
    "ROOMS_AMOUNT": "normalize-space(//span[contains(text() , 'Liczba pokoi')]/../b/text())",
    "CONTACT_DIGNITY": "normalize-space(//h3[@ class= 'offerOwner__person']/text())",
    "DESCRIPTION": "return document.querySelector(\"div[class='description__rolled ql-container']\").innerText;"
  },
  "DOMY_SELECTORS" :{
    "ACCEPT_REGULATIONS": "//button[@aria-label='accept and close']",
    "TITLE": "normalize-space(//title/text())",
    "IMAGES_TOTAL": "normalize-space(translate(//span[@id = 'photoNumber']/../text()[2], 'z', ''))",
    "SCROLL_TO_GALLERY": "img[id=\"imageBig\"]",
    "GALLERY_FULL_SCREEN":"let image = document.getElementById(\"imageBig\"); if (image instanceof Element) { return image.click(); }",
    "GALLERY_SELECTED": "normalize-space(//img[@id = 'imageBigCB']/@src)",
    "GALLERY_NEXT": "div[class*='imageBoxBigRight']",
    "PRICE": "normalize-space(//div[contains(text(), 'Cena:')]/strong/text())",
    "LOCATION" : "normalize-space(//b[contains(text(), 'Lokalizacja:')]/../a/text())",
    "MEASUREMENT": "normalize-space(//div[contains(text(), 'Powierzchnia mieszkalna:')]/strong/text())",
    "ROOMS_AMOUNT": "normalize-space(//div[contains(text(), 'Liczba pokoi:')]/strong/text())",
    "PHONE_NUMBER": "normalize-space(//div[@class = 'agentDetails']//b/text())",
    "CONTACT_DIGNITY": "normalize-space(//span[@class = 'agentName']/text())",
    "DESCRIPTION": "//div[@id = 'description']/p/text()",
    "REMOVE_TOP_AD_BANNER": "let element=document.getElementById(\"bb-banner-top\");if(element instanceof Element){element.remove();console.log(\"AD BANNER HAS BEEN REMOVED SUCCESSFULLY\")}"
  },
  "DOMIPORTA_SELECTORS" :{
    "ACCEPT_REGULATIONS": "//button[@id='onetrust-accept-btn-handler']",
    "TITLE": "normalize-space(//title/text())",
    "SCROLL_TO_GALLERY": "div[id=\"sliderGallery\"] img",
    "GALLERY_MAIN": "picture[class *= \"slick-current slick-active\"]",
    "GALLERY_SELECTED_IMAGE": "function getImg() {    const sources = [];    const images = [].slice.call(document.querySelectorAll(`div [data-picture-number][aria-hidden] picture > img`));    if (Array.isArray(images)){        images.forEach(function (img) {            const src = img.getAttribute(\"src\");            if (!sources.includes(src)){                sources.push(src);            }        });    }    return sources;}return getImg();",
    "GALLERY_NEXT_BUTTON": "div[class *= \"gallery-carousel__button--next\"]",
    "TOTAL_IMAGES": "let total=document.querySelector(\".gallery-count > span\");if(total instanceof Element){total=total.innerText.toString();if(total.includes(\"z\")){let numbers=total.split(\"z\");if(numbers.length>1){return numbers[1]}}}return 0;",
    "PRICE": "normalize-space(//span[text() = 'Cena']/../span/p/text())",
    "LOCATION" : "normalize-space(//span[@itemprop = 'address'])",
    "MEASUREMENT": "normalize-space(//span[text() = 'Powierzchnia całkowita']/../span[2])",
    "ROOMS_AMOUNT": "normalize-space(//span[text() = 'Liczba pokoi ']/../span[2])",
    "PHONE_NUMBER": "normalize-space(//a[@data-tel]/@data-tel)",
    "DESCRIPTION": "normalize-space(//div[@class = 'description__panel']/text())"
  },
  "OTODOM_SELECTORS" :{
    "ACCEPT_REGULATIONS": "//button[@id='onetrust-accept-btn-handler']",
    "TITLE": "normalize-space(//title/text())",
    "SCROLL_TO_GALLERY": "img[class = \"image-gallery-image\"]",
    "VIRTUAL_WALK_BUTTON": "button[aria-label = \"Zamknij okno spaceru wirtualnego\"]",
    "IMAGES_TOTAL": "normalize-space(//span[@class = 'image-gallery-index-total'])",
    "GALLERY_IMAGES": "let imagesList = Array();document.querySelectorAll(\"div[aria-label *= 'Go to Slide'] img\").forEach(img => imagesList.push(img.getAttribute(\"src\")));return imagesList;",
    "GALLERY_NEXT": "document.querySelector(\"button[data-cy='frontend.ad-media-gallery.next-photo']\").click();",
    "GALLERY_CLOSE": "//button[@aria-label=\"Open Fullscreen\"]",
    "PRICE": "normalize-space(//strong[@aria-label = 'Cena']/text())",
    "LOCATION" : "normalize-space(//a[@href = '#map']/text())",
    "MEASUREMENT": "normalize-space(translate(//div[@aria-label = 'Powierzchnia'], 'Powierzchnia:',''))",
    "ROOMS_AMOUNT": "normalize-space(translate(//div[@aria-label = 'Liczba pokoi'], 'Liczba pokoi:',''))",
    "CONTACT_MODAL_CLOSE_BUTTON": "div[role='dialog'][aria-modal='true']>span[aria-label='Zamknij']",
    "PHONE_BUTTON": "//button[text() = 'Pokaż numer']",
    "PHONE_NUMBER": "normalize-space(//a[contains(@href, 'tel:')])",
    "DESCRIPTION": "normalize-space(//div[@data-cy = 'adPageAdDescription'])",
    "CONTACT_DIGNITY" : "normalize-space(//span[contains(@class, 'contactPersonName')])"
  }
}

